language: objective-c
os: osx

xcode_workspace: insights-for-instagram.xcworkspace
podfile: Podfile
cache: cocoapods

before_install:
  - rvm install ruby --latest
  - gem install cocoapods
  - gem install xcpretty -N
  - pod repo update master
  - brew update
  - brew install swiftlint || true

script:
  - set -o pipefail
  - xcodebuild -workspace insights-for-instagram.xcworkspace -scheme insights-for-instagram -sdk iphonesimulator ONLY_ACTIVE_ARCH=NO | xcpretty -c
  - swiftlint